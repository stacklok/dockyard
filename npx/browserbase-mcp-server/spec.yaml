# Browserbase MCP Server Configuration
# Cloud browser automation capabilities using Browserbase and Stagehand
# Package: https://www.npmjs.com/package/@browserbasehq/mcp-server-browserbase
# Repository: https://github.com/browserbase/mcp-server-browserbase
# Will build as: ghcr.io/stacklok/dockyard/npx/browserbase-mcp-server:2.0.0

metadata:
  name: browserbase-mcp-server
  description: "MCP server for cloud browser automation with Browserbase and Stagehand"
  protocol: npx

spec:
  package: "@browserbasehq/mcp-server-browserbase"
  version: "2.4.1"

provenance:
  repository_uri: "https://github.com/browserbase/mcp-server-browserbase"
  repository_ref: "refs/heads/main"

security:
  # Server requires BROWSERBASE_API_KEY, BROWSERBASE_PROJECT_ID, GEMINI_API_KEY to start - cannot be scanned in CI
  insecure_ignore: true
  allowed_issues:
    - code: "AITech-8.2"
      reason: "Data leak risk acceptable - tool designed for web automation workflows where external content interaction is essential. Users should be aware of potential data exposure through cloud browser service."
    - code: "AITech-9.1"
      reason: "Destructive flow risk acceptable - browserbase_stagehand_act tool is core functionality for web automation. Users should only use with trusted prompts and on non-production systems."
    - code: "AITech-1.1"
      reason: "False positive - YARA flags navigate/observe tools for instructional text in descriptions (e.g., 'Only use this tool with...'), not actual prompt injection. LLM analyzer confirms SAFE. The browserbase_stagehand_agent tool legitimately processes instructions for autonomous web tasks, which is core functionality."
