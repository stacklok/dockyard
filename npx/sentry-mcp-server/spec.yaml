# Sentry MCP Server Configuration
# MCP server for Sentry debugging and error tracking operations
# Package: https://www.npmjs.com/package/@sentry/mcp-server
# Repository: https://github.com/getsentry/sentry-mcp
# Will build as: ghcr.io/stacklok/dockyard/npx/sentry-mcp-server:0.17.1

metadata:
  name: sentry-mcp-server
  description: "MCP server for Sentry debugging and error tracking operations"
  protocol: npx

spec:
  package: "@sentry/mcp-server"
  version: "0.29.0"

provenance:
  repository_uri: "https://github.com/getsentry/sentry-mcp"
  repository_ref: "refs/heads/main"

# Security allowlist for known false positives
security:
  # Server requires SENTRY_ACCESS_TOKEN to start - cannot be scanned in CI
  insecure_ignore: true
  allowed_issues:
    - code: "AITech-9.1"
      reason: |
        YARA flags the search_docs tool with "command injection" (AISubtech-9.1.4) due to
        pattern matching on terms like "SDK setup", "configuration", and "instrumentation"
        in the tool description. This is a false positive - the tool is a read-only
        documentation search that queries Sentry's docs for SDK setup guides and
        configuration help. LLM analyzer confirms SAFE. No actual injection risk exists
        as the tool only returns documentation snippets. Verified in v0.26.0.
